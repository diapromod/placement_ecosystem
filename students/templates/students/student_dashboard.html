{% load static %}

<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Student Dashboard</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
  <style>
    body {
      font-family: 'Segoe UI', sans-serif;
    }
    .sidebar {
      width: 220px;
      height: 100vh;
      background: #f8f9fa;
      padding: 20px;
      border-right: 1px solid #ddd;
    }
    .sidebar h4 {
      font-size: 18px;
      margin-bottom: 20px;
    }
    .sidebar a {
      display: block;
      padding: 10px;
      color: #333;
      text-decoration: none;
      margin-bottom: 5px;
      border-radius: 5px;
    }
    .sidebar a:hover, .sidebar a.active {
      background: #007bff;
      color: #fff;
    }
    .sidebar a:hover {
      background: rgb(165, 165, 165);
      color: #fff;
    }
    .main-content {
      flex: 1;
      padding: 20px;
    }
    .profile-summary {
      width: 300px;
      height: 100vh;
      padding: 20px;
      border-left: 1px solid #ddd;
      background: #f9f9f9;
    }
    .card {
      margin-bottom: 15px;
    }
    .success-box {
      background: #e6f9ec;
      border: 1px solid #28a745;
      padding: 10px;
      border-radius: 5px;
      margin-top: 10px;
      color: #155724;
    }
    
    /* Add styling for the logo container and image */
    .logo-container {
      text-align: center; /* Center the logo if needed */
      margin-bottom: 20px;
    }
    .logo-img {
      max-width: 100%; /* Ensure the logo scales down */
      height: auto;
      max-height: 40px; /* Adjust this to control the logo's height */
    }
    /* Existing sidebar h4 styling can be removed or kept, but it won't apply to the logo anymore */
    .sidebar h4 {
      font-size: 18px;
      margin-bottom: 20px;
    }
  </style>
</head>
<body>
  <div class="d-flex">
    <!-- Sidebar -->
    <div class="sidebar d-flex flex-column justify-content-between">
        <div>
            <div class="logo-container">
                <img src="{% static 'images/logo.png' %}" alt="PlacementAssistant Logo" class="img-fluid logo-img">
            </div>
            <br>
            <a href="{% url 'student_dashboard' %}" class="active">Dashboard</a>
            <a href="#">Job Listing</a>
            <a href="#">Resume Tools</a>
            <a href="#">Mock Interview</a>
        </div>

        <!-- Logout button at bottom -->
        <div>
            <form method="post" action="{% url 'logout' %}">
                {% csrf_token %}
                <button type="submit" class="btn btn-danger w-100 mt-3">Logout</button>
            </form>
        </div>
    </div>


    <!-- Main Content -->
    <div class="main-content">
      <h2><strong>Welcome, {{ student.first_name }}!</strong></h2>
      <h5 class="text-muted">Upcoming Deadlines / Notifications</h5>
      <br>
      <!-- Example Cards -->
      {% for item in notifications %}
      <div class="card p-3">
        <h6>{{ item.title }}</h6>
        <p class="text-muted">{{ item.category }}</p>
        <p>{{ item.description }}</p>
        <!-- icons placeholder -->
        <div>
          <button class="btn btn-sm btn-outline-primary">+</button>
          <button class="btn btn-sm btn-outline-secondary">ðŸ“…</button>
          <button class="btn btn-sm btn-outline-danger">âš‘</button>
        </div>
      </div>
      {% empty %}
      <p>No notifications yet.</p>
      {% endfor %}

      <!-- Pagination Placeholder -->
      <nav>
        <ul class="pagination">
          <li class="page-item"><a class="page-link" href="#">Previous</a></li>
          <li class="page-item active"><a class="page-link" href="#">1</a></li>
          <li class="page-item"><a class="page-link" href="#">2</a></li>
          <li class="page-item"><a class="page-link" href="#">Next</a></li>
        </ul>
      </nav>
    </div>

    <!-- Profile Summary -->
    <div class="profile-summary">
      <h3>Profile Summary</h3> 
      <br>
      <h5 style="color: #007bff">Basic Info</h5>
      <p>
        Name: {{ student.first_name }} {{ student.last_name }} <br>
        Email: {{ student.user.email }} <br>
        Department: {{ student.department }}<br>
        Year: {{ student.year_of_passout }}
      </p>

      <h5 style="color: #007bff">Academic Info</h5>
      <p>
        CGPA: <span class="fw-bold text-success">{{ student.cgpa }}</span> <br>
        Backlogs: <span class="fw-bold">{{ student.active_backlogs }}</span> <br>
        History of Backlogs: {{ student.history_of_backlogs|yesno:"Yes,No" }}
      </p>

      <h5 style="color: #007bff">Placement Status</h5>
      <p>
        Applications Submitted: 0 <br>
        Shortlists Received: 0 <br>
        Offers: <span class="fw-bold">0</span> 
      </p>

      <button class="btn btn-primary w-100">Update Profile</button>
    </div>
  </div>
</body>
</html>
